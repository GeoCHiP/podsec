podsec-k8s-save-oci(1) -- архивация образов kubernetes версии 1.24.8 различных архитектур в указанный первым параметром каталог c последующим сжатием и формированием `xz-oci-архива`
================================

## SYNOPSIS

`podsec-save-oci каталог_архивирования_образов архитектура,архитектура,...|all образ ...`

## DESCRIPTION

- Скрипт производит архивацию образов в указанный первым параметром каталог

- Второй параметры задает через запятую архивируемые архитектуры. Если второй параметр имеет значение all архивируются все архитектуры: `amd64`, `arm64`, `arm ppc64le`, `386`.

- Скрипт производит загрузку образов
`k8s-p10/coredns:v1.8.6`, `k8s-p10/kube-controller-manager:v1.24.8`, `k8s-p10/kube-apiserver:v1.24.8`, `k8s-p10/kube-proxy:v1.24.8`, `k8s-p10/etcd:3.5.5-0`, `k8s-p10/flannel:v0.19.2`, `k8s-p10/kube-scheduler:v1.24.8`, `k8s-p10/pause:3.7`, `k8s-p10/flannel-cni-plugin:v1.2.0`, `k8s-p10/cert-manager-controller:v1.9.1`, `k8s-p10/cert-manager-cainjector:v1.9.1`, `k8s-p10/cert-manager-webhook:v1.9.1`
с регистратора `registry.altlinux.org` в `containers-storage:` системы с последующим помещением их в указанный первым параметром каталог в подкаталог с именем архитектуры `$ociDir/$arch`. Для улучшения последующей компресии слои образа помещаются несжатыми (параметр `--dest-oci-accept-uncompressed-layers`)

- После окончания наполнения подкаталога архитектуры он архивируется, сжимается и помещается в файл `$ociDir/$arch.tar.xz`

## EXAMPLES

`podsec-k8s-save-oci /tmp/ociDir/ amd64,arm64`

## SECURITY CONSIDERATIONS

- Так как скрипт производит загрузку образов различных архитектур последняя загруженная в containers-storage: архитектура может отличаться от текущей архитектуры процессора. При необходимости нужно будет произвести перезагрузку образов для рабочей архитектуры процессора

## SEE ALSO

## AUTHOR

Костарев Алексей, Базальт СПО
kaf@basealt.ru
